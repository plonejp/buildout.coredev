Repository: plone.app.content
Branch: refs/heads/master
Date: 2015-04-15T10:08:13+02:00
Author: Aleix Llus√† Serra () <a.llusa@iskra.cat>
Commit: https://github.com/plone/plone.app.content/commit/f7817510ee3a222971afe9559a978fae61451e8f

Solving https://github.com/plone/Products.CMFPlone/issues/440

Files changed:
M plone/app/content/browser/vocabulary.py

diff --git a/plone/app/content/browser/vocabulary.py b/plone/app/content/browser/vocabulary.py
index 3caeba5..9754fc3 100644
--- a/plone/app/content/browser/vocabulary.py
+++ b/plone/app/content/browser/vocabulary.py
@@ -1,7 +1,7 @@
 # -*- coding: utf-8 -*-
 from AccessControl import getSecurityManager
 from Products.CMFCore.utils import getToolByName
-from Products.CMFPlone.interfaces import IPloneSiteRoot
+from plone.app.layout.navigation.interfaces import INavigationRoot
 from Products.Five import BrowserView
 from logging import getLogger
 from plone.app.content.utils import json_dumps
@@ -193,7 +193,7 @@ def get_vocabulary(self):
         authorized = None
         sm = getSecurityManager()
         if (factory_name not in _permissions or
-                not IPloneSiteRoot.providedBy(context)):
+                not INavigationRoot.providedBy(context)):
             # Check field specific permission
             if field_name:
                 permission_checker = queryAdapter(context,


